(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd9be"],{"81b1":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._m(0),e("div",{staticClass:"bg-dark pt-3"},[e("div",{staticClass:"container mt-md-5"},[e("ul",{staticClass:"nav nav-pills justify-content-center border-white",attrs:{id:"pills-tab",role:"tablist"}},[e("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[e("a",{staticClass:"nav-link active",attrs:{id:"pills-home-tab","data-toggle":"pill",href:"#pills-home",role:"tab","aria-controls":"pills-home","aria-selected":"true"},on:{click:function(s){return s.preventDefault(),t.getFilter(t.filterType="all")}}},[t._v("全部酒款")])]),e("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[e("a",{staticClass:"nav-link",attrs:{id:"pills-profile-tab","data-toggle":"pill",href:"#pills-profile",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},on:{click:function(s){return s.preventDefault(),t.getFilter(t.filterType="champagne")}}},[t._v("嚴選香檳")])]),e("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[e("a",{staticClass:"nav-link",attrs:{id:"pills-contact-tab","data-toggle":"pill",href:"#pills-contact",role:"tab","aria-controls":"pills-contact","aria-selected":"false"},on:{click:function(s){return s.preventDefault(),t.getFilter(t.filterType="white")}}},[t._v("經典白葡萄酒")])]),e("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[e("a",{staticClass:"nav-link",attrs:{id:"pills-contact-tab","data-toggle":"pill",href:"#pills-contact",role:"tab","aria-controls":"pills-contact","aria-selected":"false"},on:{click:function(s){return s.preventDefault(),t.getFilter(t.filterType="red")}}},[t._v("心動紅葡萄酒")])])]),e("div",{staticClass:"row mt-3"},t._l(t.newProducts,(function(s){return e("div",{key:s.id,staticClass:"col-md-4 my-3"},[e("div",{staticClass:"card box-shadow border-2 mb-2 position-relative position-relative h-100"},[e("img",{staticClass:"card-img-top rounded-0 card-img-height",attrs:{src:s.imageUrl[0],alt:"..."}}),e("div",{staticClass:"card-body border-top bg-dark d-flex flex-column align-items-center"},[e("h4",{staticClass:"mb-2 text-primary"},[t._v(t._s(s.title))]),e("p",{staticClass:"card-text text-white mb-0"},[t._v(t._s(s.options.summary))]),e("div",{staticClass:"d-none d-md-block"},[e("div",{staticClass:"mt-4 text-center d-lg-flex"},[e("del",{staticClass:"text-white mr-lg-3"},[e("small",[t._v("原價："+t._s(t._f("money")(s.origin_price)))])]),e("p",{staticClass:"text-primary mb-0"},[t._v("售價："),e("strong",[t._v(t._s(t._f("money")(s.price)))])])])]),e("div",{staticClass:"d-md-none"},[e("div",{staticClass:"mt-2 text-center d-flex"},[e("del",{staticClass:"text-white mr-3"},[e("small",[t._v("原價："+t._s(t._f("money")(s.origin_price)))])]),e("p",{staticClass:"text-primary h5 mb-0"},[t._v("售價："),e("strong",[t._v(t._s(t._f("money")(s.price)))])])])])]),e("div",{staticClass:"card-footer bg-dark border-top d-none d-md-block"},[e("div",{staticClass:"d-flex"},[e("router-link",{staticClass:"btn\n                btn-outline-light btn-sm stretched-link",attrs:{to:"/product/"+s.id,role:"button"}},[t._v(" 查看更多 ")]),e("button",{staticClass:"btn btn-secondary btn-sm ml-auto\n                d-flex align-items-center stretched-link",staticStyle:{position:"relative"},attrs:{type:"button",disabled:t.status.loadingItem===s.id},on:{click:function(e){return e.preventDefault(),t.addToCart(s.id)}}},[t._v("加入購物車 "),t.status.loadingItem===s.id?e("i",{staticClass:"ml-2 spinner-grow spinner-grow-sm d-md-none d-lg-block spinner-size-s"}):t._e()])],1)]),e("div",{staticClass:"card-footer border-top d-md-none"},[e("div",{staticClass:"d-flex"},[e("router-link",{staticClass:"btn\n                btn-outline-secondary stretched-link",attrs:{to:"/product/"+s.id,role:"button"}},[t._v(" 查看更多 ")]),e("button",{staticClass:"btn btn-outline-primary ml-auto\n                d-flex align-items-center stretched-link",staticStyle:{position:"relative"},attrs:{type:"button",disabled:t.status.loadingItem===s.id},on:{click:function(e){return e.preventDefault(),t.addToCart(s.id)}}},[t._v("加入購物車 "),t.status.loadingItem===s.id?e("i",{staticClass:"ml-2 spinner-grow spinner-grow-sm d-md-none d-lg-block spinner-size-s"}):t._e()])],1)])])])})),0)])])],1)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"jumbotron jumbotron-fluid bg-cover bg-img-height-s-plus mb-0",staticStyle:{"background-image":"url(https://images.unsplash.com/photo-1529060532150-a0c935a6d6e5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80)"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-5 d-none d-md-block"},[e("div",{staticClass:"d-flex flex-column align-items-start"},[e("h1",{staticClass:"text-primary font-weight-bold pt-2 font-size-xl"},[t._v("酒是在瓶中的詩 "),e("br"),e("span",{staticClass:"font-size-m"},[t._v("-克里夫頓。費迪曼-")])])])]),e("div",{staticClass:"col-md-5 d-md-none"},[e("div",{staticClass:"d-flex justify-content-center align-items-center mt-4 text-shadow"},[e("h1",{staticClass:"text-primary font-weight-bold pt-2 font-size-xl"},[t._v("酒是在瓶中的詩 "),e("br"),e("span",{staticClass:"font-size-m"},[t._v("-克里夫頓。費迪曼-")])])])])])])])}],n=(e("99af"),e("4de4"),{data:function(){return{products:[],newProducts:[],filterType:"",status:{loadingItem:""},isLoading:!1}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/","api/").concat("9cbd42bc-33b9-4cd2-bed8-7413186f826b","/ec/products");this.$http.get(s).then((function(s){t.products=s.data.data,t.isLoading=!1,t.newProducts=t.products,t.newProducts.sort((function(t,s){return s.price-t.price}));var e=t.$route.params.categoryName;e&&(t.filterType=e)})).catch((function(){t.isLoading=!1}))},addToCart:function(t){var s=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t;var i="".concat("https://course-ec-api.hexschool.io/","api/").concat("9cbd42bc-33b9-4cd2-bed8-7413186f826b","/ec/shopping");this.isLoading=!0;var a={product:t,quantity:e};this.$http.post(i,a).then((function(){s.status.loadingItem="",s.isLoading=!1,s.$bus.$emit("get-cart"),s.$bus.$emit("message:push","商品已成功加入購物車!","success")})).catch((function(t){s.status.loadingItem="",s.$bus.$emit("message:push","加入失敗!".concat(t.response.data.errors),"danger"),s.isLoading=!1}))},getFilter:function(){switch(this.filterType){case"all":this.newProducts=this.products;break;case"champagne":this.newProducts=this.products.filter((function(t){return"嚴選香檳"===t.category}));break;case"white":this.newProducts=this.products.filter((function(t){return"經典白葡萄酒"===t.category}));break;case"red":this.newProducts=this.products.filter((function(t){return"心動紅葡萄酒"===t.category}));break;default:break}}}}),r=n,l=e("2877"),o=Object(l["a"])(r,i,a,!1,null,null,null);s["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2d0dd9be.3ef9edb3.js.map